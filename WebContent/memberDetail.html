<!DOCTYPE html>
<html lang="en">
<head>

  <meta charset="UTF-8">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <meta http-equiv="X-UA-Compatible" content="ie=edge">

  <title>Diving Demo</title>

  <link href="https://fonts.googleapis.com/css?family=Noto+Sans+TC|Open+Sans&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

  <link rel="stylesheet" href="convertM2C.css">
  <link rel="stylesheet" href="SlideBar.css">
  <link rel="stylesheet" href="shopcart.css">
  <link rel="stylesheet" href="memberDetail.css">

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
  
  <script src="https://kit.fontawesome.com/68f8681dba.js" crossorigin="anonymous"></script>
  
  <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>

</head>
<body>
  <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
    <div class="modal-dialog modal-md" role="document">
      <div class="modal-content">

        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">帳號登入</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>

        <div class="modal-body">
          <div class="media-body">
            <div class="form-box">

              <div class="button-box">
                <div id="btn"></div>
                <button type="button" class = "toggle-btn" onclick="login()">會員登入</button>
                <button type="button" class = "toggle-btn" onclick="register()">廠商登入</button>
              </div>

              <div id = "mlogin" class="input-group">
              <!-- 可能會有問題 -->
                <!-- 修改會員帳號id -->
                <input id="memberId" type="text" class = "input-field" placeholder="會員帳號" required>
                <!-- 修改會員密碼id -->
                <input id="memberPassword" type="password" class = "input-field" placeholder="會員密碼" required>
                <input type="checkbox" class = "check-box"><h3>記住密碼</h3>
                 <!-- 新增會員登入按鈕id和value -->
                <button type="submit" class="submit-btn" onclick = "intoLogin()" id="BtnLoginMember" value="member">登入</button>
                <div class="signup-link">還沒加入會員嗎？<a href="./memberRegister.html">立即註冊</a></div>
              </div>

              <div id = "clogin" class="input-group">
              	<!-- 修改廠商帳號id -->
                <input id="supplierId" type="text" class = "input-field" placeholder="廠商帳號" required>
                <!-- 修改廠商密碼id -->
                <input id="supplierPassword" type="password" class = "input-field" placeholder="廠商密碼" required>
                <input type="checkbox" class = "check-box"><h3>記住密碼</h3>
                <!-- 新增廠商登入按鈕id和value -->
                <button type="submit" class="submit-btn" onclick = "intoCCC()" id="BtnLoginSupplier" value="supplier">登入</button>
                <div class="signup-link">還沒加入到上架平台嗎？<a href="./storeRegister.html">立即註冊</a></div>
              </div>

            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  
  <div class="modal fade" id="exampleModal1" data-backdrop="static" data-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true" >
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header" >
       <h4 class="modal-title" id="staticBackdropLabel"  ><font valign="middle" font face="fantasy"><img src='./image/logo.jpg' width='55' style="float:left;"><b>&nbsp;&nbsp;Q&A</b></font></h4>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
        <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body" style="background-color:#E8FFFF" >

        <div class="accordion" id="accordionExample">
    <div class="card" style="max-width: 100%;">
      <div class="card-header" id="headingOne" style="background-color:#FFFFD4" >
        <h2 class="mb-0">
          <button class="btn btn-link collapsed" type="button" data-toggle="collapse" data-target="#collapseOne" aria-expanded="false" aria-controls="collapseOne">
            不是會員可以購買嗎?
          </button>
        </h2>
      </div>
  
      <div id="collapseOne" class="collapse show" aria-labelledby="headingOne" data-parent="#accordionExample">
        <div class="card-body">
         要先註冊並且登入會員後才可以進行購買唷，註冊DIVING會員帳號完全免費，您可透過會員登入頁面進行註冊
     
         
        </div>
      </div>
    </div>
    <div class="card" style="max-width: 100%;">
      <div class="card-header" id="headingTwo" style="background-color:#FFFFD4" >
        <h2 class="mb-0">
          <button class="btn btn-link collapsed" type="button" data-toggle="collapse" data-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo" >
            我的資料變了，要怎麼修改呢？
          </button>
        </h2>
      </div>
      <div id="collapseTwo" class="collapse" aria-labelledby="headingTwo" data-parent="#accordionExample">
        <div class="card-body" >
        若您需要修改個人資料，請到 "會員中心" 會員資料修改，頁面輸入您的會員帳號及密碼，進入您的個人資料區進行修改。
        </div>
      </div>
    </div>
    <div class="card" style="max-width: 100%;">
      <div class="card-header" id="headingThree" style="background-color:#FFFFD4" >
        <h2 class="mb-0">
          <button class="btn btn-link collapsed" type="button" data-toggle="collapse" data-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
            網站價格是不二價嗎？不能給折扣嗎？
          </button>
        </h2>
      </div>
      <div id="collapseThree" class="collapse" aria-labelledby="headingThree" data-parent="#accordionExample">
        <div class="card-body">
        本網價格已是優惠價格，通常比旅客自行包裝更加便宜，此外，透過本網訂購旅遊商品，節省您規劃行程的時間和人力，在旅遊途中也更有保障，故售價以本網公告為主，不再另行折扣或議價。
        </div>
      </div>
    </div>
  </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal" style="background-color:#6E6EFF">關閉視窗</button>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="exampleModal" data-backdrop="static" data-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true" >
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
       <h4 class="modal-title" id="staticBackdropLabel"  ><font valign="middle"><img src='./image/logo.jpg' width='55' style="float:left;">&nbsp;&nbsp;分公司據點</font></h4>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
        <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <ui>
         <i class="far fa-map fa-2x"  style="float:left;"></i> <font color=#E000E0 font face="微軟正黑體" valign="middle"><h5>&nbsp;總公司</h5></font>
        <p>台北市中正區公園路30號3F<br>
         Phone: (02)2382-6015<br></ui>
         <p><hr color="#ff8000">
           <ui>
           <i class="far fa-map fa-2x"  style="float:left;"></i><font color=#E000E0 font face="微軟正黑體"><h5>&nbsp;東區分公司</h5></font>
           <p>台北市大安區忠孝東路四段169號4F之1<br>
            Phone:(02)2773-5243<br></ui>
            <p><hr color="#ff8000">
           <i class="far fa-map fa-2x"  style="float:left;"></i><font color=#E000E0 font face="微軟正黑體"><h5>&nbsp;桃園分公司</h5></font>
           <p>桃園市民權路6號2樓<br>
            Phone:(03)347-4878<br></ui>
            <p><hr color="#ff8000">
            <ui>
           <i class="far fa-map fa-2x"  style="float:left;"></i><font color=#E000E0 font face="微軟正黑體"><h5>&nbsp;新竹分公司</h5></font>
           <p>新竹市中華路二段393號<br>
            Phone:(03)528-4678<br></ui>
            <p>

      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal" style="background-color:#8282FF">關閉視窗</button>

      </div>
    </div>
  </div>
</div>

  <header class="sticky-top">

      <nav class="navbar navbar-expand-lg navbar-light">
        <a class="navbar-brand" href="./mainPage.html">
          <img src="./image/logo.jpg" alt="">
        </a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarSupportedContent">

          <ul class="navbar-nav mr-auto">

            <li class="nav-item">
              <a class="nav-link" href="./mainPage.html">主頁</a>
            </li>

            <li class="nav-item">
              <a class="nav-link" href="./choose3.html">潛水區域</a>
            </li>

            <li class="nav-item">
              <a class="nav-link" href="./choose1.html">潛水行程</a>
            </li>

            <li class="nav-item"><a class="nav-link" onclick="toChart()"
						style="cursor: pointer;">購物車</a></li>

            <li class="nav-item">
              <a class="nav-link" onclick="gototo()" style="cursor: pointer;">聯絡我們</a>
            </li>

            <div class="egg">
              <h5>李亞原起床囉</h5>
            </div>

            <div id = "mac2m" class="membericon">
            
            </div>
          </ul>

        </div>
      </nav>
  </header>


  <section id = "slideImage">
    <div id="carouselExampleCaptions" class="carousel slide" data-ride="carousel">
      <ol class="carousel-indicators">
        <li data-target="#carouselExampleCaptions" data-slide-to="0" class="active"></li>
        <li data-target="#carouselExampleCaptions" data-slide-to="1"></li>
        <li data-target="#carouselExampleCaptions" data-slide-to="2"></li>
      </ol>
      <div class="carousel-inner">
        <div class="carousel-item active">
          <img src="./image/diving1.jpg" class="d-block w-100" alt="">
          <div class="carousel-caption d-none d-md-block">
            <h1>肆意潛水</h1>
            <h4>放縱你的靈魂，悠游於大海的美</h4>
          </div>
        </div>
        <div class="carousel-item">
          <img src="./image/diving2.jpg" class="d-block w-100" alt="">
          <div class="carousel-caption d-none d-md-block">
            <h1>探索生態</h1>
            <h4>與魚群同樂，和海洋共舞</h4>
          </div>
        </div>
        <div class="carousel-item">
          <img src="./image/diving3.jpg" class="d-block w-100" alt="">
          <div class="carousel-caption d-none d-md-block">
            <h1>挑戰自我</h1>
            <h4>發掘未知的潛能，愛上另一個自己，現在就出發吧！</h4>
          </div>
        </div>
      </div>
      <a class="carousel-control-prev" href="#carouselExampleCaptions" role="button" data-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="sr-only">Previous</span>
      </a>
      <a class="carousel-control-next" href="#carouselExampleCaptions" role="button" data-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="sr-only">Next</span>
      </a>
    </div>
  </section>

  <section id = "memDet">
    <div class="wrapper">
        <div class="sidebar">
            <h3>會員資料</h3>

            <ul>
                <li><a id="mdd"><i class="fas fa-user"></i>個人資料</a></li>
                <li><a id="odd"><i class="far fa-calendar-alt"></i>所有訂單</a></li>
                <li><a id="purchase"><i class="fas fa-shopping-cart"></i>購物車</a></li>
            </ul>

        </div>
        <div id="memberData" class="main_content">

            <div id="mmh" class="header text-center"><h4>個人基本資料</h4></div>

            <div id="mm" class="info">

            </div>

            <!-- 訂單詳細用card -->


          </div>

        </div>
  </section>

  <div id="test" style="visibility:hidden;">
    This is test.
  </div>


  <footer id="foottt" style="padding:80px 0px 80px 0px">

    <div class="container">
      <div class='row'>
      <div class='col-md-4 text-left'>
        <img src='./image/logo.jpg' width='85'>
        <p>潛水 - 生態 - 挑戰自我</p>
      </div>
      <div class='col-md-4 text-left'>
        <h4>連結</h4>
        <ul>
            <li><a href='./mainPage.html'>主頁</a></li>
            <li><a href='./choose1.html'>最新行程</a></li>
        </ul>
        <ul>
            <li><a class="nav-link" href="#" data-toggle="modal"
			data-target="#exampleModal1" style="padding: 0px;">常見問題</a></li>
            <li><a class="nav-link" href="#" data-toggle="modal"
			data-target="#exampleModal" style="padding: 0px;">公司據點</a></li>
        </ul>
      </div>
      <div class='col-md-4 text-left'>
        <h4>聯絡我們</h4>
        <p>10041台北市中正區公園路30號3樓<br>
         Phone: 02-2382-6015<br>
         E-Mail: <a href='mailto:s91143621027@gmail.com'>s91143621027@gmail.com</a>
          </p>
      </div>
      </div>
    </div>
<div id="jjj">

</div>
  </footer>

<script>
		function toChart() {
			
			$.post("purchaseJudge.jsp", function(data){
				$("#jjj").html(data);
				
				if($("#judge").val()=="member"){
					document.location.href = "./memberDetail.html?member";
				} 
				else {
					alert("請先登入會員");
				}
				
			});
		}
	</script>

<script>
	function logout(){
		
		$.post("logout.jsp");
		window.location.href = "./mainPage.html";
		window.location.href.split('?')[0];
		
	}
</script>
  
  <script>
  	function gototo(){
  		location.hash = "foottt";
  	}
  </script>
  
 <script>
  $(document).ready(function(){
	  
	  
	  $.post("Login.jsp", function(data){
			document.getElementById('mac2m').innerHTML = data;
		});

	  var url = document.location.href;
	  window.onload = function(){
		  if(url.split('?')[1]=="member"){
			  document.getElementById('mmh').innerHTML="<h4>購物車目前內容</h4>";
		      $.post("alreadyBuyServlet" ,{"methods":"readAllTour"}, function(data){
		    	  document.getElementById('mm').innerHTML= data;
		      });
	      		
	      }
	      	else{
	      		
	      		$.post("memberServlet",{"methods":"read"} ,function(data){
		  	    	  $("#mm").html(data);
		  	      	});
	      	}
	  };
	  
      	
	  
	  			
	  			
	  			
	  			

		  });
  
  </script>
  
  <!-- 會員登入 -->
  <script>

  function intoLogin(){
  	$.post("loginServlet", {"actor": $("#BtnLoginMember").val(),
  							"memberId":$("#memberId").val(),
  							"memberPassword":$("#memberPassword").val()}, 
  	function(data){
  		$("#mac2m").html(data);
  	});
  }
    </script>
    <!-- 廠商登入 -->
    <script>
    function intoCCC(){
    	$.post("loginServlet",{"actor":$("#BtnLoginSupplier").val(),
			   				   "supplierId":$("#supplierId").val(),
			   				   "supplierPassword":$("#supplierPassword").val()},
		function(data){
		   $("#mac2m").html(data);
    	});
    }

  </script>


  <script>

  var x = document.getElementById("mlogin");
  var y = document.getElementById("clogin");
  var z = document.getElementById("btn");

  function register(){
    x.style.left = "-400px";
    y.style.left = "75px";
    z.style.left = "110px";
  }

  function login(){
    x.style.left = "75px";
    y.style.left = "475px";
    z.style.left = "0";
  }

  </script>


  
  <script>
  
  $("#mdd").click(mddShow);

  function mddShow(){

      document.getElementById('mmh').innerHTML="<h4>個人基本資料</h4>";
      $.post("memberServlet",{"methods":"read"} ,function(data){
    	  $("#mm").html(data);
      });
    }
  
    $("#odd").click(oddShow);

    function oddShow(){

        document.getElementById('mmh').innerHTML="<h4>目前所有訂單</h4>";
       // 查詢會員訂單
      	$.post("orderServlet",{"methods":"memberRead"}, function(data) {
      	  document.getElementById('mm').innerHTML= data;
        });
      }

    $("#purchase").click(pddShow);

    function pddShow(){
		//顯示購物車內容
      document.getElementById('mmh').innerHTML="<h4>購物車目前內容</h4>";
      $.post("alreadyBuyServlet" ,{"methods":"readAllTour"}, function(data){
    	  document.getElementById('mm').innerHTML= data;
      });

    }

  </script>
	<!-- 會員的中心的購物車(mPurchase.jsp) -->
	<!-- 確認結帳 -->
	<script>
		function clickBuy(buttonCheckBuy) {
			
			
			
		$.post("orderServlet", {
				"methods" : "create",
				"orderTotalPrice" : $("#orderTotalPrice").val()
			}, function(data) {
				$("#mm").html(data);
			});
			alert("完成訂單");
		}
	</script>
	<!-- 購物車行程人數數量增加一個 -->
	<script>   
		function addOne_click(clicked_id)
		  {
			//clicked_id=行程編號的ID
		      //alert(clicked_id);
		      $.post("alreadyBuyServlet", {"methods" : "addOne",
		    	  						   "editCartPeople_TourNum":clicked_id,
		    	  						 	"orderTotalPrice" : $("#orderTotalPrice").val()},function(data){
		    	  					    	  $("#mm").html(data);
		    	  					      });
		}
	</script>
	<!-- 購物車行程人數數量減少一個 -->
	<script>   
		function minusOne_click(clicked_value)
		  {
			//clicked_value=行程編號的ID
		      //alert(clicked_value);
		      $.post("alreadyBuyServlet", {"methods" : "minusOne",
		    	  						   "editCartPeople_TourNum":clicked_value},function(data){
			    	  					    	  $("#mm").html(data);
			    	  					      });
		}
	</script>
	<!-- 購物車行程刪除 -->
	<script>   
		function delete_click(clicked_value)
		  {
			//clicked_value=行程編號的ID
		      //alert(clicked_value);
		      $.post("alreadyBuyServlet", {"methods" : "delete",
		    	  						   "delete_TourNum":clicked_value},function(data){
			    	  					    	  $("#mm").html(data);
			    	  					      });
		}
	</script>

</body>
</html>
